<ion-view>
	<ion-content>
		<div 
			class="customerNearbyContainer">
			<!--  *************** 
					search (start)
					*************** -->
			<div 
				class="searchContainer">
				<div 
					class="item item-input-inset">
					<label 
						id="searchLbl" 
						name="searchLbl" 
						class="item item-input-wrapper">
						<i 
							class="icon ion-ios-search">
						</i>
						<input 
							class="fill-parent-x" 
							ng-model="customerNearbyController.searchVal" 
							placeholder="Current Location" 
							type="text">
					</label>
				</div>
			</div>
			<!--  *************** 
					search (end)
					*************** -->
			
			<!--  *************** 
					search result (start)
					*************** -->
			<div 
				class="searchResultContainer" 
				ng-search="customerNearbyController.placePredictions.length > 0">
				<ion-list>
					<ion-item 
						ng-repeat="i in customerNearbyController.placePredictions">
						<i 
							class="icon ion-location">
						</i>
						<span 
							class="font-family-1-size-medium">
							{{i.structured_formatting.main_text}}
						</span><br>
						<span 
							class="font-family-1-size-small">
							{{i.description}}
						</span>
					</ion-item>
				</ion-list>
			</div>
			<!--  *************** 
					search result (end)
					*************** -->
			
			<!--  *************** 
					category (start)
					*************** -->
			<div 
				class="categoryContainer child-content-center">
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategoryVal('');">
					All
				</button>
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategoryVal(i);" 
					ng-repeat="i in customerNearbyController.companiesCategories">
					{{i}}
				</button>
			</div>
			<!--  *************** 
					category (end)
					*************** -->
					
			<!--  *************** 
					companies (start)
					*************** -->
			<div 
				class="companiesContainer" 
				ng-repeat="(k,v) in customerNearbyController.companies" 
				ng-show="(customerNearbyController.categoryVal == '') || (customerNearbyController.categoryVal == v.company_category)">
				<div 
					class="child-content-center companiesHeader font-family-1-size-medium">
					{{k}}
				</div>
				<div 
					class="branchesContainer child-content-center font-family-1-size-small" 
					ng-click="customerNearbyController.gotoState('customer.menu', j)" 
					ng-repeat="(i,j) in customerNearbyController.companiesBranches[k]">
					{{customerNearbyController.toStringAddress(j);}}
					<div 
						class="child-content center menuitemsContainer">
						<ion-slide-box 
							auto-play="true" 
							does-continue="true" 
							class="menuitemsSlideBox">
							<ion-slide 
								class="menuitemsSlide" 
								ng-repeat="(a,b) in customerNearbyController.companiesMenuitems[k]">
								<div 
									class="menuitemsImageContainer child-content-center">
									<img 
										id="menuitemsImage" 
										name="menuitemsImage" 
										src={{b.menuitem_image}}>
								</div>
								<div 
									class="menuitemsPrice child-content-right font-family-1-size-small">
									{{b.menuitem_price}}
								</div>
							</ion-slide>
						</ion-slide-box>
					</div>
				</div>
			</div>
			<!--  *************** 
					companies (end)
					*************** -->
					
			<!--  *************** 
					map (start)
					*************** -->
			<div 
				class="mapContainer" 
				data-tap-disabled="true">
				
				<ng-map 
					center="[{{customerNearbyController.mapConfig.center.latitude}}, {{customerNearbyController.mapConfig.center.longitude}}]" 
					class="map" 
					id="map" 
					map-type-control={{customerNearbyController.mapTypeControl}} 
					name="map" 
					scale-control={{customerNearbyController.scaleControl}} 
					street-view-control={{customerNearbyController.streetViewControl}} 
					zoom={{customerNearbyController.zoom}} 
					zoom-control={{customerNearbyController.zoomControl}}>
				</ng-map>
			</div>
			<!--  *************** 
					map (end)
					*************** -->	
		</div>
	</ion-content>
</ion-view>