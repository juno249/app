<!--  *************** 
		nearby (start)
		*************** -->
<ion-view 
	id="nearby" 
	name="nearby" 
	view-title="nearby">
	<ion-content 
		class="has-header">
		<div 
			class="nearby-container">
			<div 
				class="fill-parent-x search-container">
				<div 
					class="list">
					<div 
						class="item item-input-inset">
						<label 
							class="item item-input-wrapper">
							<i 
								class="icon ion-ios-search">
							</i>
							<!--  *************** 
									search (start)
									*************** -->
							<input 
								class="fill-parent-x font-family-2-size-medium" 
								id="search" 
								name="search" 
								ng-model="customerNearbyController.search" 
								placeholder="search" 
								type="text">
							<!--  *************** 
									search (end)
									*************** -->
						</label>
					</div>
				</div>
			</div>
			<div 
				class="fill-parent-x search-result-container">
				<ion-list>
					<ion-item 
						ng-repeat="k in customerNearbyController.placePredictions">
						<i 
							class="icon ion-location">
						</i>
						<span 
							class="font-family-1-size-small">
							<b>{{k.structured_formatting.main_text}}</b>
						</span><br>
						<span 
							class="font-family-2-size-small">
							{{k.description}}
						</span>
					</ion-item>
				</ion-list>
			</div>
			<div 
				class="map-container" 
				ng-init="customerNearbyController.initializeMapCoordinates();">
				<!--  *************** 
						nearby-map (start)
						*************** -->
				<ng-map 
					center="[{{customerNearbyController.mapConfig.center.latitude}}, {{customerNearbyController.mapConfig.center.longitude}}]" 
					id="nearby-map" 
					map-type-control={{customerNearbyController.mapTypeControl}} 
					name="nearby-map" 
					scale-control={{customerNearbyController.scaleControl}} 
					street-view-control={{customerNearbyController.streetViewControl}} 
					zoom={{customerNearbyController.zoom}} 
					zoom-control={{customerNearbyController.zoomControl}}>
				</ng-map>
				<!--  *************** 
						nearby-map (end)
						*************** -->
			</div>
			<div 
				class="categories-container child-content-center">
				<div 
					class="child-content-center container-header font-family-1-size-medium">
					<b>FOOD CATEGORIES</b>
				</div>
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategory('')">
					All
				</button>
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategory(k)" 
					ng-repeat="k in customerNearbyController.companiesCategoriesSelection" >
					<i 
						class="icon ion-pizza">
					</i>
					{{k}}
				</button>				
			</div>
			<div 
					class="child-content-center container-header font-family-1-size-medium">
					<b>RESTAURANTS</b>
				</div>
			<div 
				class="card companies-branches-container" 
				ng-repeat="(k, v) in customerNearbyController.companies" 
				ng-show="(customerNearbyController.category == '') || (customerNearbyController.category == v.company_category)">
				<div 
					class="companies-container">
					<!--  *************** 
							companies-name-container (start)
							*************** -->
					<div 
						class="child-content-center font-family-1-size-small" 
						id="companies-name-container" 
						name="companies-name-container">
						{{v.company_name}}
					</div>
					<!--  *************** 
							companies-name-container (end)
							*************** -->
					
					<!--  *************** 
							companies-logo-image-container (start)
							*************** -->
					<div 
						class="child-content-center" 
						id="companies-logo-image-container" 
						name="companies-logo-image-container">
						<img  
							src={{v.company_logo}}>
					</div>
					<!--  *************** 
							companies-logo-image-container (end)
							*************** -->
					
					<!--  *************** 
							featured-menus-header (start)
							*************** -->
					<div 
						class="child-content-center font-family-2-size-small" 
						id="featured-menus-header" 
						name="featured-menus-header">
						Featured Menus
					</div>
					<!--  *************** 
							featured-menus-header (end)
							*************** -->
					
					<!--  *************** 
							featured-menus-image-container (start)
							*************** -->
					<div 
						class="child-content-center" 
						id="featured-menus-image-container" 
						name="featured-menus-image-container" 
						ng-if="keys(customerNearbyController.companiesMenuitems[k]).length == 0">
						<img 
							src="templates/customer/nearby/res/img/null.png">
					</div>
					<ion-scroll 
						direction="x" 
						id="featured-menus-image-container" 
						name="featured-menus-image-container" 
						ng-if="keys(customerNearbyController.companiesMenuitems[k]).length > 0">
						<img 
							ng-repeat="(i, j) in customerNearbyController.companiesMenuitems[k]" 
							src={{j.menuitem_image}}>
					</ion-scroll>
					<!--  *************** 
							featured-menus-image-container (end)
							*************** -->
				</div>
				<div 
					class="branches-container">
					<ion-list>
						<ion-radio 
							ng-model="customerNearbyController.companyBranch" 
							ng-value="{'companyName': v.company_name, 'branchName': j.branch_name}" 
							ng-repeat="(i, j) in customerNearbyController.companiesBranches[k]">
							<i 
								class="icon ion-map">
							</i>
							<span 
								class="font-family-1-size-medium">
								<b>{{i}}</b><br>
							</span>
							<span 
								class="font-family-2-size-small">
								<underline>{{customerNearbyController.toStringAddress(j);}}</underline>
							</span>
						</ion-radio>
					</ion-list>
				</div>
			</div>
		</div>
	</ion-content>
</ion-view>
<!--  *************** 
		nearby (end)
		*************** -->