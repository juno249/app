<!--  *************** 
		nearby (start)
		*************** -->
<ion-view 
	id="nearby" 
	name="nearby" 
	view-title="nearby">
	<ion-content 
		class="has-header">
		<div 
			class="nearby-container">
			<div 
				class="fill-parent-x search-container">
				<div 
					class="list">
					<div 
						class="item item-input-inset">
						<label 
							class="item item-input-wrapper">
							<i 
								class="icon ion-ios-search">
							</i>
							<!--  *************** 
									search (start)
									*************** -->
							<input 
								class="fill-parent-x font-family-2-size-medium" 
								id="search" 
								name="search" 
								ng-model="customerNearbyController.search" 
								placeholder="search" 
								type="text">
							<!--  *************** 
									search (end)
									*************** -->
						</label>
					</div>
				</div>
			</div>
			<div 
				class="fill-parent-x search-result-container">
				<ion-list>
					<ion-item 
						ng-repeat="k in customerNearbyController.placePredictions">
						<i 
							class="icon ion-location">
						</i>
						<span 
							class="font-family-1-size-small">
							<b>{{k.structured_formatting.main_text}}</b>
						</span><br>
						<span 
							class="font-family-2-size-small">
							{{k.description}}
						</span>
					</ion-item>
				</ion-list>
			</div>
			<div 
				class="map-container" 
				ng-init="customerNearbyController.initializeMapCoordinates();">
				<!--  *************** 
						nearby-map (start)
						*************** -->
				<ng-map 
					center="[{{customerNearbyController.mapConfig.center.latitude}}, {{customerNearbyController.mapConfig.center.longitude}}]" 
					id="nearby-map" 
					map-type-control={{customerNearbyController.mapTypeControl}} 
					name="nearby-map" 
					scale-control={{customerNearbyController.scaleControl}} 
					street-view-control={{customerNearbyController.streetViewControl}} 
					zoom={{customerNearbyController.zoom}} 
					zoom-control={{customerNearbyController.zoomControl}}>
				</ng-map>
				<!--  *************** 
						nearby-map (end)
						*************** -->
			</div>
			<div 
				class="categories-container child-content-center">
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategory(undefined)">
					All
				</button>
				<button 
					class="button button-assertive button-small font-family-1-size-small" 
					ng-click="customerNearbyController.setCategory(k)" 
					ng-repeat="k in customerNearbyController.companiesCategoriesSelection" >
					<i 
						class="icon ion-pizza">
					</i>
					{{k}}
				</button>
			</div>
			<div 
				class="child-content-center container-header font-family-1-size-medium">
				<b>RESTAURANTS</b>
			</div>
			<div 
				class="card companies-branches-container" 
				ng-repeat="(k, v) in customerNearbyController.companies" 
				ng-show="(customerNearbyController.category == undefined) || (customerNearbyController.category == v.company_category)">
				<!--  *************** 
						companies-name-container (start)
						*************** -->
				<div 
					class="child-content-center font-family-1-size-medium item item-divider" 
					id="companies-name-container" 
					name="companies-name-container">
					{{v.company_name}}
				</div>
				<!--  *************** 
						companies-name-container (end)
						*************** -->
				
				<!--  *************** 
						companies-logo-image-container (start)
						*************** -->
				<div 
					class="child-content-center item" 
					id="companies-logo-image-container" 
					name="companies-logo-image-container">
					<img 
						src={{v.company_logo}}>
				</div>
				<!--  *************** 
						companies-logo-image-container (end)
						*************** -->
				
				<!--  *************** 
						featured-menus-header (start)
						*************** -->
				<div 
					class="child-content-center font-family-1-size-small item" 
					id="featured-menus-header" 
					name="featured-menus-header">
					<b>Featured Menus</b>
				</div>
				<!--  *************** 
						featured-menus-header (end)
						*************** -->
				
				<!--  *************** 
						featured-menus-image-container (start)
						*************** -->
				<ion-slide-box 
					auto-play="true" 
					class="item" 
					delegate-handle="featured-menus-slidebox" 
					direction="x" 
					does-continue="true" 
					id="featured-menus-slidebox" 
					name="featured-menus-slidebox" 
					ng-if="keys(customerNearbyController.companiesMenuitems[k]).length > 0" 
					show-pager="false">
					<ion-slide 
						ng-repeat="(i, j) in customerNearbyController.companiesMenuitems[k]">
						<div 
							id="featured-menus-container" 
							name="featured-menus-container" 
							class="item item-thumbnail-left">
							<img 
								id="featured-menus-image" 
								name="featured-menus-image" 
								src={{j.menuitem_image}}>
							<span 
								class="font-family-1-size-small">
								<underline><b>{{j.menuitem_name}}</b><br></underline>
							</span>
							<span 
								class="font-family-2-size-small">
								{{j.menuitem_desc}}
							</span>
						</div>
					</ion-slide>
				</ion-slide-box>
				<!--  *************** 
						featured-menus-image-container (end)
						*************** -->
				
				<!--  *************** 
						branches-header (start)
						*************** -->
				<div 
					class="child-content-center font-family-1-size-small item" 
					id="branches-header" 
					name="branches-header">
					<b>Branches</b>
				</div>
				<!--  *************** 
						branches-header (end)
						*************** -->
						
				<ion-list 
					class="item">
					<ion-radio 
						ng-model="customerNearbyController.companyBranch" 
						ng-value="{'companyName': v.company_name, 'branchName': j.branch_name}" 
						ng-repeat="(i, j) in customerNearbyController.companiesBranches[k]">
						<i 
							class="icon ion-map">
						</i>
						<span 
							class="font-family-1-size-medium">
							<b>{{j.branch_name}}</b><br>
						</span>
						<span 
							class="font-family-2-size-small">
							{{customerNearbyController.toStringAddress(j);}}
						</span>
					</ion-radio>
				</ion-list>
			</div>
		</div>
	</ion-content>
	
	<!--  *************** 
			branches-header (start)
			*************** -->
	<button 
		class="button button-medium button-positive child-content-center" 
		id="gotoMenusBtn" 
		name="gotoMenusBtn" 
		ng-if="customerNearbyController.companyBranch != undefined" 
		ng-click="customerNearbyController.gotoState('customer.menus')">
		<i 
			class="icon ion-arrow-right-a">
		</i>
	</button>
	<!--  *************** 
			branches-header (start)
			*************** -->
</ion-view>
<!--  *************** 
		nearby (end)
		*************** -->